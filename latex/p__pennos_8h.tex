\doxysection{src/p\+\_\+pennos.h File Reference}
\hypertarget{p__pennos_8h}{}\label{p__pennos_8h}\index{src/p\_pennos.h@{src/p\_pennos.h}}


Header file for Penn\+OS, the Penn Shell Operating System.  


{\ttfamily \#include $<$signal.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
{\ttfamily \#include $<$ucontext.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include "{}signals.\+h"{}}\newline
{\ttfamily \#include "{}parser.\+h"{}}\newline
{\ttfamily \#include "{}errors.\+h"{}}\newline
Include dependency graph for p\+\_\+pennos.\+h\+:
% FIG 0
This graph shows which files directly or indirectly include this file\+:
% FIG 1
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{p__pennos_8h_a78c99ffd76a7bb3c8c74db76207e9ab4}\label{p__pennos_8h_a78c99ffd76a7bb3c8c74db76207e9ab4} 
\#define {\bfseries \+\_\+\+XOPEN\+\_\+\+SOURCE}~500
\item 
\Hypertarget{p__pennos_8h_ae4777ede3ed2173c78fab7798ad6eddb}\label{p__pennos_8h_ae4777ede3ed2173c78fab7798ad6eddb} 
\#define {\bfseries MAX\+\_\+\+OPEN\+\_\+\+FILES}~1024
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{p__pennos_8h_ae0d21d9a2ef4a21a7b731ae1befd6ab0}{p\+\_\+system\+\_\+init}} (void(\texorpdfstring{$\ast$}{*}shell\+\_\+func)())
\begin{DoxyCompactList}\small\item\em Initializes the system with the provided shell function process. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{p__pennos_8h_a5a1643c03e7ddbc893f88c6510cb6f1d}{p\+\_\+spawn}} (void(\texorpdfstring{$\ast$}{*}func)(), char \texorpdfstring{$\ast$}{*}argv\mbox{[}$\,$\mbox{]}, int fd0, int fd1, char \texorpdfstring{$\ast$}{*}name)
\begin{DoxyCompactList}\small\item\em Spawns a new process. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{p__pennos_8h_a8ddf9a2934c3397ab06f48872bc24ce6}{p\+\_\+waitpid}} (pid\+\_\+t pid, int \texorpdfstring{$\ast$}{*}wstatus, bool nohang)
\begin{DoxyCompactList}\small\item\em Waits for a process to change state. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{p__pennos_8h_af554875b303d6cca9d6fc82d7ed8ded1}{p\+\_\+kill}} (pid\+\_\+t pid, \mbox{\hyperlink{signals_8h_a1a4e0dd5d9b66b722ab954f8fb31bb7b}{pennos\+\_\+signal}} sig)
\begin{DoxyCompactList}\small\item\em Sends a signal to a process to terminate it. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_abab29a9906bac0b035d41a3c067d9c36}{p\+\_\+exit}} (void)
\begin{DoxyCompactList}\small\item\em Exits the current thread unconditionally. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{p__pennos_8h_a04ac94d68aaa795abdeed08f2d9481a3}{p\+\_\+nice}} (pid\+\_\+t pid, int priority)
\begin{DoxyCompactList}\small\item\em Sets the priority of the thread referenced by PID. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{p__pennos_8h_a7331769e7fe7bd974a8d3aea1f795f81}{p\+\_\+sleep}} (unsigned int ticks)
\begin{DoxyCompactList}\small\item\em Sets the sleep counter of a sleeping thread to the specified number of ticks. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_ad4d04753cebddc03484466627af3da5d}{p\+\_\+print}} (void)
\begin{DoxyCompactList}\small\item\em Displays the PID, parent PID, and priority of all threads. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_a2a3a513b524cc123d547446475e07e7c}{p\+\_\+jobs}} (void)
\begin{DoxyCompactList}\small\item\em Prints all current jobs running on Penn\+OS. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{p__pennos_8h_a6fbda21a6b0ed9ae8d9aa33ebffe476a}{p\+\_\+fg}} (pid\+\_\+t pid)
\begin{DoxyCompactList}\small\item\em Brings the last stopped or backgrounded job to the foreground or the specified job by PID. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{p__pennos_8h_aaf18f7e97b0a2783ba3d9e4ef54bfc17}{p\+\_\+bg}} (pid\+\_\+t pid)
\begin{DoxyCompactList}\small\item\em Continues the last stopped job or the job specified by PID. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_a8f7e37af5a7aea56371b274c6521e1d3}{p\+\_\+perror}} (char \texorpdfstring{$\ast$}{*}message, \mbox{\hyperlink{errors_8h_ab5c6249e0c8c0c9222b6c8e8237604e1}{pennos\+\_\+error}} err)
\begin{DoxyCompactList}\small\item\em Prints the user-\/specified error message and the message mapped to the Penn\+OS error. \end{DoxyCompactList}\item 
char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{p__pennos_8h_a1dcf1f6a075b40cbce6b6a863e922ffe}{get\+\_\+pcb\+\_\+name\+\_\+from\+\_\+pid}} (pid\+\_\+t pid)
\begin{DoxyCompactList}\small\item\em Gets the process name of the thread associated with the given Process ID (PID). \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{p__pennos_8h_a8c5af11bcd6a690c744a7e1e4403f8e3}{W\+\_\+\+WIFEXITED}} (int status)
\begin{DoxyCompactList}\small\item\em Returns true if the child terminated normally, either by a call to p\+\_\+exit or by returning. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{p__pennos_8h_a9b5d1562ba4d742ff9d37e8781b54529}{W\+\_\+\+WIFSTOPPED}} (int status)
\begin{DoxyCompactList}\small\item\em Returns true if the child stopped normally, usually by SIGTSTP. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{p__pennos_8h_ac75d18a59a2241cfb241f21370851693}{W\+\_\+\+WIFSIGNALED}} (int status)
\begin{DoxyCompactList}\small\item\em Evaluates whether the child process exited due to a signal. \end{DoxyCompactList}\item 
pid\+\_\+t \mbox{\hyperlink{p__pennos_8h_a74a995a7d7da779a432f01631b6ec55c}{p\+\_\+spawn\+\_\+cmd}} (void(\texorpdfstring{$\ast$}{*}func)(), struct \mbox{\hyperlink{structparsed__command}{parsed\+\_\+command}} \texorpdfstring{$\ast$}{*}cmd, int fd0, int fd1, char \texorpdfstring{$\ast$}{*}name)
\begin{DoxyCompactList}\small\item\em Forks a new process that retains most attributes of the parent process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_adcefa82cd6f411263cfa65fdb367e3a7}{start\+\_\+os}} ()
\begin{DoxyCompactList}\small\item\em Invokes the scheduler to start the operating system. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_ae8f11c71750ea6bdfe274ef74b43dab0}{p\+\_\+logout}} ()
\begin{DoxyCompactList}\small\item\em Invokes the scheduler to logout the user. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_ae3080d953002523e765e3954f3bdb955}{p\+\_\+man}} (const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}func\+\_\+names)
\begin{DoxyCompactList}\small\item\em Prints all Penn\+OS functions and their descriptions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_abbbfd069e63bd7a9591686bfb136aff0}{p\+\_\+background\+\_\+wait}} (int case\+\_\+value, int background\+\_\+id, char \texorpdfstring{$\ast$}{*}waited\+\_\+pid\+\_\+name)
\begin{DoxyCompactList}\small\item\em Waits for a background process to complete. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{p__pennos_8h_a95db0c73b3de95e4a06b318ad50f5565}{p\+\_\+background\+\_\+status}} (int current\+\_\+background\+\_\+id, int pid)
\begin{DoxyCompactList}\small\item\em Prints the status of a background process. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file for Penn\+OS, the Penn Shell Operating System. 

This file includes necessary declarations and dependencies for the Penn\+OS system, including signal handling, standard input/output, memory allocation, and other utilities. 

\doxysubsection{Function Documentation}
\Hypertarget{p__pennos_8h_a1dcf1f6a075b40cbce6b6a863e922ffe}\label{p__pennos_8h_a1dcf1f6a075b40cbce6b6a863e922ffe} 
\index{p\_pennos.h@{p\_pennos.h}!get\_pcb\_name\_from\_pid@{get\_pcb\_name\_from\_pid}}
\index{get\_pcb\_name\_from\_pid@{get\_pcb\_name\_from\_pid}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{get\_pcb\_name\_from\_pid()}{get\_pcb\_name\_from\_pid()}}
{\footnotesize\ttfamily char \texorpdfstring{$\ast$}{*} get\+\_\+pcb\+\_\+name\+\_\+from\+\_\+pid (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



Gets the process name of the thread associated with the given Process ID (PID). 

This function retrieves the process name of the thread corresponding to the specified Process ID (PID).


\begin{DoxyParams}{Parameters}
{\em pid} & The Process ID (PID) of the thread. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char\texorpdfstring{$\ast$}{*} A pointer to the process name of the thread. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a95db0c73b3de95e4a06b318ad50f5565}\label{p__pennos_8h_a95db0c73b3de95e4a06b318ad50f5565} 
\index{p\_pennos.h@{p\_pennos.h}!p\_background\_status@{p\_background\_status}}
\index{p\_background\_status@{p\_background\_status}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_background\_status()}{p\_background\_status()}}
{\footnotesize\ttfamily void p\+\_\+background\+\_\+status (\begin{DoxyParamCaption}\item[{int}]{current\+\_\+background\+\_\+id,  }\item[{int}]{pid }\end{DoxyParamCaption})}



Prints the status of a background process. 

This function retrieves the status of a background process based on its background ID and waited PID.


\begin{DoxyParams}{Parameters}
{\em current\+\_\+background\+\_\+id} & The ID of the current background process. \\
\hline
{\em pid} & The PID of the process being waited for. \\
\hline
\end{DoxyParams}
\Hypertarget{p__pennos_8h_abbbfd069e63bd7a9591686bfb136aff0}\label{p__pennos_8h_abbbfd069e63bd7a9591686bfb136aff0} 
\index{p\_pennos.h@{p\_pennos.h}!p\_background\_wait@{p\_background\_wait}}
\index{p\_background\_wait@{p\_background\_wait}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_background\_wait()}{p\_background\_wait()}}
{\footnotesize\ttfamily void p\+\_\+background\+\_\+wait (\begin{DoxyParamCaption}\item[{int}]{case\+\_\+value,  }\item[{int}]{background\+\_\+id,  }\item[{char \texorpdfstring{$\ast$}{*}}]{waited\+\_\+pid\+\_\+name }\end{DoxyParamCaption})}



Waits for a background process to complete. 

This function waits for the completion of a background process identified by its background ID.


\begin{DoxyParams}{Parameters}
{\em case\+\_\+value} & An integer specifying the case for waiting. \\
\hline
{\em background\+\_\+id} & The ID of the background process to wait for. \\
\hline
{\em waited\+\_\+pid\+\_\+name} & A pointer to a character array to store the name of the waited PID. \\
\hline
\end{DoxyParams}
\Hypertarget{p__pennos_8h_aaf18f7e97b0a2783ba3d9e4ef54bfc17}\label{p__pennos_8h_aaf18f7e97b0a2783ba3d9e4ef54bfc17} 
\index{p\_pennos.h@{p\_pennos.h}!p\_bg@{p\_bg}}
\index{p\_bg@{p\_bg}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_bg()}{p\_bg()}}
{\footnotesize\ttfamily pid\+\_\+t p\+\_\+bg (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



Continues the last stopped job or the job specified by PID. 

This function continues the last stopped job or the job specified by {\ttfamily pid}. Note that this implies the need to implement the \textquotesingle{}\&\textquotesingle{} operator in your shell.


\begin{DoxyParams}{Parameters}
{\em pid} & The process ID (PID) of the job to continue.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t Returns the process ID (PID) of the updated job if successful; otherwise, returns -\/1. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_abab29a9906bac0b035d41a3c067d9c36}\label{p__pennos_8h_abab29a9906bac0b035d41a3c067d9c36} 
\index{p\_pennos.h@{p\_pennos.h}!p\_exit@{p\_exit}}
\index{p\_exit@{p\_exit}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_exit()}{p\_exit()}}
{\footnotesize\ttfamily void p\+\_\+exit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Exits the current thread unconditionally. 

This function unconditionally exits the current thread and switches to a finished context.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a6fbda21a6b0ed9ae8d9aa33ebffe476a}\label{p__pennos_8h_a6fbda21a6b0ed9ae8d9aa33ebffe476a} 
\index{p\_pennos.h@{p\_pennos.h}!p\_fg@{p\_fg}}
\index{p\_fg@{p\_fg}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_fg()}{p\_fg()}}
{\footnotesize\ttfamily pid\+\_\+t p\+\_\+fg (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



Brings the last stopped or backgrounded job to the foreground or the specified job by PID. 

This function brings the last stopped or backgrounded job to the foreground or the job specified by {\ttfamily pid}. Returns the process ID (PID) of the updated job if successful; otherwise, returns -\/1.


\begin{DoxyParams}{Parameters}
{\em pid} & The process ID (PID) of the job to bring to the foreground.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t Returns the process ID (PID) of the updated job if successful; otherwise, returns -\/1. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a2a3a513b524cc123d547446475e07e7c}\label{p__pennos_8h_a2a3a513b524cc123d547446475e07e7c} 
\index{p\_pennos.h@{p\_pennos.h}!p\_jobs@{p\_jobs}}
\index{p\_jobs@{p\_jobs}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_jobs()}{p\_jobs()}}
{\footnotesize\ttfamily void p\+\_\+jobs (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Prints all current jobs running on Penn\+OS. 

This function iterates through all the jobs on Penn\+OS and prints information about each job.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_af554875b303d6cca9d6fc82d7ed8ded1}\label{p__pennos_8h_af554875b303d6cca9d6fc82d7ed8ded1} 
\index{p\_pennos.h@{p\_pennos.h}!p\_kill@{p\_kill}}
\index{p\_kill@{p\_kill}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_kill()}{p\_kill()}}
{\footnotesize\ttfamily int p\+\_\+kill (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid,  }\item[{\mbox{\hyperlink{signals_8h_a1a4e0dd5d9b66b722ab954f8fb31bb7b}{pennos\+\_\+signal}}}]{sig }\end{DoxyParamCaption})}



Sends a signal to a process to terminate it. 

This function sends the specified signal to the process identified by its process ID (PID).


\begin{DoxyParams}{Parameters}
{\em pid} & The process ID (PID) of the process to be terminated. \\
\hline
{\em sig} & The signal to be sent. See the {\ttfamily pennos\+\_\+signal} enumeration for valid signal values.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Returns 0 on success, or -\/1 on error. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_ae8f11c71750ea6bdfe274ef74b43dab0}\label{p__pennos_8h_ae8f11c71750ea6bdfe274ef74b43dab0} 
\index{p\_pennos.h@{p\_pennos.h}!p\_logout@{p\_logout}}
\index{p\_logout@{p\_logout}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_logout()}{p\_logout()}}
{\footnotesize\ttfamily void p\+\_\+logout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Invokes the scheduler to logout the user. 

This function stops all processes and logs the user out.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_ae3080d953002523e765e3954f3bdb955}\label{p__pennos_8h_ae3080d953002523e765e3954f3bdb955} 
\index{p\_pennos.h@{p\_pennos.h}!p\_man@{p\_man}}
\index{p\_man@{p\_man}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_man()}{p\_man()}}
{\footnotesize\ttfamily void p\+\_\+man (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{func\+\_\+names }\end{DoxyParamCaption})}



Prints all Penn\+OS functions and their descriptions. 

This function is responsible for printing all Penn\+OS functions and their corresponding descriptions.


\begin{DoxyParams}{Parameters}
{\em func\+\_\+names} & A string array containing the names/descriptions of functions to be printed. \\
\hline
\end{DoxyParams}
\Hypertarget{p__pennos_8h_a04ac94d68aaa795abdeed08f2d9481a3}\label{p__pennos_8h_a04ac94d68aaa795abdeed08f2d9481a3} 
\index{p\_pennos.h@{p\_pennos.h}!p\_nice@{p\_nice}}
\index{p\_nice@{p\_nice}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_nice()}{p\_nice()}}
{\footnotesize\ttfamily int p\+\_\+nice (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid,  }\item[{int}]{priority }\end{DoxyParamCaption})}



Sets the priority of the thread referenced by PID. 

This function updates the priority of the thread referenced by PID to the specified priority value.


\begin{DoxyParams}{Parameters}
{\em pid} & The process ID (PID) of the thread to update the priority. \\
\hline
{\em priority} & The new priority value to set for the thread.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Returns 0 on success, or -\/1 on error. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a8f7e37af5a7aea56371b274c6521e1d3}\label{p__pennos_8h_a8f7e37af5a7aea56371b274c6521e1d3} 
\index{p\_pennos.h@{p\_pennos.h}!p\_perror@{p\_perror}}
\index{p\_perror@{p\_perror}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_perror()}{p\_perror()}}
{\footnotesize\ttfamily void p\+\_\+perror (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message,  }\item[{\mbox{\hyperlink{errors_8h_ab5c6249e0c8c0c9222b6c8e8237604e1}{pennos\+\_\+error}}}]{err }\end{DoxyParamCaption})}



Prints the user-\/specified error message and the message mapped to the Penn\+OS error. 

This function prints the user-\/specified error message ({\ttfamily message}) and the message mapped to the Penn\+OS error ({\ttfamily err}).


\begin{DoxyParams}{Parameters}
{\em message} & The user-\/specified error message to be printed. \\
\hline
{\em err} & The Penn\+OS error code for which a mapped message will be printed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_ad4d04753cebddc03484466627af3da5d}\label{p__pennos_8h_ad4d04753cebddc03484466627af3da5d} 
\index{p\_pennos.h@{p\_pennos.h}!p\_print@{p\_print}}
\index{p\_print@{p\_print}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_print()}{p\_print()}}
{\footnotesize\ttfamily void p\+\_\+print (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Displays the PID, parent PID, and priority of all threads. 

This function iterates through all the threads and displays each thread\textquotesingle{}s PID, parent PID, and priority.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a7331769e7fe7bd974a8d3aea1f795f81}\label{p__pennos_8h_a7331769e7fe7bd974a8d3aea1f795f81} 
\index{p\_pennos.h@{p\_pennos.h}!p\_sleep@{p\_sleep}}
\index{p\_sleep@{p\_sleep}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_sleep()}{p\_sleep()}}
{\footnotesize\ttfamily pid\+\_\+t p\+\_\+sleep (\begin{DoxyParamCaption}\item[{unsigned int}]{ticks }\end{DoxyParamCaption})}



Sets the sleep counter of a sleeping thread to the specified number of ticks. 

This function blocks the calling process until the specified number of system clock ticks elapse, and then sets the sleeping thread to the running state. Importantly, {\ttfamily p\+\_\+sleep} does not return until the thread resumes running, but it can be interrupted by a {\ttfamily S\+\_\+\+SIGTERM} signal. The clock keeps ticking even if {\ttfamily p\+\_\+sleep} is interrupted, similar to {\ttfamily sleep(3)} in Linux.


\begin{DoxyParams}{Parameters}
{\em ticks} & The number of clock ticks to set the sleep counter.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t Returns the process ID (PID) of the updated sleeping thread. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a5a1643c03e7ddbc893f88c6510cb6f1d}\label{p__pennos_8h_a5a1643c03e7ddbc893f88c6510cb6f1d} 
\index{p\_pennos.h@{p\_pennos.h}!p\_spawn@{p\_spawn}}
\index{p\_spawn@{p\_spawn}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_spawn()}{p\_spawn()}}
{\footnotesize\ttfamily pid\+\_\+t p\+\_\+spawn (\begin{DoxyParamCaption}\item[{void(\texorpdfstring{$\ast$}{*})()}]{func,  }\item[{char \texorpdfstring{$\ast$}{*}}]{argv\mbox{[}$\,$\mbox{]},  }\item[{int}]{fd0,  }\item[{int}]{fd1,  }\item[{char \texorpdfstring{$\ast$}{*}}]{name }\end{DoxyParamCaption})}



Spawns a new process. 

This function forks a new thread that retains most of the attributes of the parent thread. Once the thread is spawned, it executes the function referenced by {\ttfamily func} with its argument array {\ttfamily argv}. {\ttfamily fd0} is the file descriptor for the input file, and {\ttfamily fd1} is the file descriptor for the output file. The function returns the process ID (PID) of the child thread on success, or -\/1 on error.


\begin{DoxyParams}{Parameters}
{\em func} & A pointer to the function to be executed by the spawned process. This function should have the signature\+: {\ttfamily void func()}. \\
\hline
{\em argv} & An array of strings representing the arguments passed to the spawned process. \\
\hline
{\em fd0} & The input file descriptor for the spawned process. \\
\hline
{\em fd1} & The output file descriptor for the spawned process. \\
\hline
{\em name} & The name of the process.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t Returns the process ID (PID) of the spawned process on success, or -\/1 on error. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a74a995a7d7da779a432f01631b6ec55c}\label{p__pennos_8h_a74a995a7d7da779a432f01631b6ec55c} 
\index{p\_pennos.h@{p\_pennos.h}!p\_spawn\_cmd@{p\_spawn\_cmd}}
\index{p\_spawn\_cmd@{p\_spawn\_cmd}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_spawn\_cmd()}{p\_spawn\_cmd()}}
{\footnotesize\ttfamily pid\+\_\+t p\+\_\+spawn\+\_\+cmd (\begin{DoxyParamCaption}\item[{void(\texorpdfstring{$\ast$}{*})()}]{func,  }\item[{struct \mbox{\hyperlink{structparsed__command}{parsed\+\_\+command}} \texorpdfstring{$\ast$}{*}}]{cmd,  }\item[{int}]{fd0,  }\item[{int}]{fd1,  }\item[{char \texorpdfstring{$\ast$}{*}}]{name }\end{DoxyParamCaption})}



Forks a new process that retains most attributes of the parent process. 

This function forks a new process that retains most attributes of the parent process. Once the process is spawned, it executes the function referenced by {\ttfamily func} with the argument array {\ttfamily argv} inside the {\ttfamily \doxylink{structparsed__command}{parsed\+\_\+command}} structure pointed to by {\ttfamily cmd}. {\ttfamily fd0} is the file descriptor for the input file, and {\ttfamily fd1} is the file descriptor for the output file.


\begin{DoxyParams}{Parameters}
{\em func} & A pointer to the function to be executed by the spawned process. This function should have the signature\+: {\ttfamily void func()}. \\
\hline
{\em cmd} & A pointer to the {\ttfamily \doxylink{structparsed__command}{parsed\+\_\+command}} structure containing command and argument information. \\
\hline
{\em fd0} & The input file descriptor for the spawned process. \\
\hline
{\em fd1} & The output file descriptor for the spawned process. \\
\hline
{\em name} & The name of the process.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t Returns the process ID (PID) of the spawned process. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_ae0d21d9a2ef4a21a7b731ae1befd6ab0}\label{p__pennos_8h_ae0d21d9a2ef4a21a7b731ae1befd6ab0} 
\index{p\_pennos.h@{p\_pennos.h}!p\_system\_init@{p\_system\_init}}
\index{p\_system\_init@{p\_system\_init}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_system\_init()}{p\_system\_init()}}
{\footnotesize\ttfamily void p\+\_\+system\+\_\+init (\begin{DoxyParamCaption}\item[{void(\texorpdfstring{$\ast$}{*})()}]{shell\+\_\+func }\end{DoxyParamCaption})}



Initializes the system with the provided shell function process. 

This function initializes the system with the given shell function process.


\begin{DoxyParams}{Parameters}
{\em shell\+\_\+func} & A pointer to the shell function process to initialize the system with. This function should have the signature\+: {\ttfamily void shell\+\_\+func()}.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a8ddf9a2934c3397ab06f48872bc24ce6}\label{p__pennos_8h_a8ddf9a2934c3397ab06f48872bc24ce6} 
\index{p\_pennos.h@{p\_pennos.h}!p\_waitpid@{p\_waitpid}}
\index{p\_waitpid@{p\_waitpid}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{p\_waitpid()}{p\_waitpid()}}
{\footnotesize\ttfamily pid\+\_\+t p\+\_\+waitpid (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid,  }\item[{int \texorpdfstring{$\ast$}{*}}]{wstatus,  }\item[{bool}]{nohang }\end{DoxyParamCaption})}



Waits for a process to change state. 

Depending on the value of the {\ttfamily nohang} parameter, this function either waits (and thus hangs) for a child process of the calling thread to change state or returns immediately if set to true. It is similar to Linux waitpid(2). If {\ttfamily nohang} is true, {\ttfamily p\+\_\+waitpid} does not block but returns immediately. The calling thread is set as blocked (if {\ttfamily nohang} is false) until a child of the calling thread changes state.


\begin{DoxyParams}{Parameters}
{\em pid} & The process ID (PID) of the process to wait for. \\
\hline
{\em wstatus} & A pointer to an integer where the exit status of the waited process will be stored. \\
\hline
{\em nohang} & If set to true, the function returns immediately without waiting for the process. If set to false, the function waits until the specified process exits.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pid\+\_\+t Returns the process ID (PID) of the waited process on success, or -\/1 on error. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_adcefa82cd6f411263cfa65fdb367e3a7}\label{p__pennos_8h_adcefa82cd6f411263cfa65fdb367e3a7} 
\index{p\_pennos.h@{p\_pennos.h}!start\_os@{start\_os}}
\index{start\_os@{start\_os}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{start\_os()}{start\_os()}}
{\footnotesize\ttfamily void start\+\_\+os (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Invokes the scheduler to start the operating system. 

This function initiates the scheduler, triggering the start of the operating system. It serves as the entry point for launching the OS and coordinating task scheduling.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a8c5af11bcd6a690c744a7e1e4403f8e3}\label{p__pennos_8h_a8c5af11bcd6a690c744a7e1e4403f8e3} 
\index{p\_pennos.h@{p\_pennos.h}!W\_WIFEXITED@{W\_WIFEXITED}}
\index{W\_WIFEXITED@{W\_WIFEXITED}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{W\_WIFEXITED()}{W\_WIFEXITED()}}
{\footnotesize\ttfamily bool W\+\_\+\+WIFEXITED (\begin{DoxyParamCaption}\item[{int}]{status }\end{DoxyParamCaption})}



Returns true if the child terminated normally, either by a call to p\+\_\+exit or by returning. 

This function evaluates whether the child process terminated normally. A return value of true indicates normal termination, while false indicates abnormal termination.


\begin{DoxyParams}{Parameters}
{\em status} & The status value obtained from the child process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns true if the child terminated normally, false otherwise. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_ac75d18a59a2241cfb241f21370851693}\label{p__pennos_8h_ac75d18a59a2241cfb241f21370851693} 
\index{p\_pennos.h@{p\_pennos.h}!W\_WIFSIGNALED@{W\_WIFSIGNALED}}
\index{W\_WIFSIGNALED@{W\_WIFSIGNALED}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{W\_WIFSIGNALED()}{W\_WIFSIGNALED()}}
{\footnotesize\ttfamily bool W\+\_\+\+WIFSIGNALED (\begin{DoxyParamCaption}\item[{int}]{status }\end{DoxyParamCaption})}



Evaluates whether the child process exited due to a signal. 

This function determines whether the child process exited because of a signal. A return value of true indicates that the child exited due to a signal, while false indicates that the child process terminated normally.


\begin{DoxyParams}{Parameters}
{\em status} & The status value obtained from the child process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns true if the child process exited due to a signal; otherwise, returns false. 
\end{DoxyReturn}
\Hypertarget{p__pennos_8h_a9b5d1562ba4d742ff9d37e8781b54529}\label{p__pennos_8h_a9b5d1562ba4d742ff9d37e8781b54529} 
\index{p\_pennos.h@{p\_pennos.h}!W\_WIFSTOPPED@{W\_WIFSTOPPED}}
\index{W\_WIFSTOPPED@{W\_WIFSTOPPED}!p\_pennos.h@{p\_pennos.h}}
\doxysubsubsection{\texorpdfstring{W\_WIFSTOPPED()}{W\_WIFSTOPPED()}}
{\footnotesize\ttfamily bool W\+\_\+\+WIFSTOPPED (\begin{DoxyParamCaption}\item[{int}]{status }\end{DoxyParamCaption})}



Returns true if the child stopped normally, usually by SIGTSTP. 

This function evaluates whether the child process stopped normally. A return value of true indicates normal stopping, while false indicates abnormal stopping.


\begin{DoxyParams}{Parameters}
{\em status} & The status value obtained from the child process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bool Returns true if the child stopped normally; otherwise, returns false. 
\end{DoxyReturn}
