\doxysection{src/k\+\_\+pennos.h File Reference}
\hypertarget{k__pennos_8h}{}\label{k__pennos_8h}\index{src/k\_pennos.h@{src/k\_pennos.h}}


Header file defining the kernel-\/level functions of Penn\+OS.  


{\ttfamily \#include $<$signal.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
{\ttfamily \#include $<$ucontext.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
{\ttfamily \#include "{}pcb.\+h"{}}\newline
{\ttfamily \#include "{}Deque.\+h"{}}\newline
{\ttfamily \#include "{}signals.\+h"{}}\newline
{\ttfamily \#include "{}errors.\+h"{}}\newline
Include dependency graph for k\+\_\+pennos.\+h\+:
% FIG 0
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{k__pennos_8h_a78c99ffd76a7bb3c8c74db76207e9ab4}\label{k__pennos_8h_a78c99ffd76a7bb3c8c74db76207e9ab4} 
\#define {\bfseries \+\_\+\+XOPEN\+\_\+\+SOURCE}~500
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{k__pennos_8h_ae5987ec5b5ff1ae8c872edc43473a466}\label{k__pennos_8h_ae5987ec5b5ff1ae8c872edc43473a466} 
void {\bfseries k\+\_\+system\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em Initializes the kernel system. This function initializes the init process and the global\+\_\+pcb deques, which keeps track of all the processes that have been spawned. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{k__pennos_8h_ae5a34add8eec03735fc9b5dfc4c5cfb6}{k\+\_\+process\+\_\+create}} (\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*}parent, char \texorpdfstring{$\ast$}{*}name)
\begin{DoxyCompactList}\small\item\em Creates a process. This function creates a PCB for the new process, updates the parent that spawned this process, and adds the process to the global\+\_\+pcb deque. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a980ec49f158aad89f56ef1658e80282c}{k\+\_\+process\+\_\+kill}} (\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*}process, \mbox{\hyperlink{signals_8h_a1a4e0dd5d9b66b722ab954f8fb31bb7b}{pennos\+\_\+signal}} signal)
\begin{DoxyCompactList}\small\item\em Sends a signal to the specified process This function sets the status of the targeted process to the appropriate status based on the signal being sent and checks for any processes waiting on the targeted process. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a078e3681581c83f75664cbdc29af2c26}{k\+\_\+process\+\_\+cleanup}} (\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*}process)
\begin{DoxyCompactList}\small\item\em Cleans up the PCB when a process is terminated. This function sets the status of the input process to terminated, frees any associated memory with the process, handles the orphanized children of the terminated process, and updates the parent\textquotesingle{}s information about its children. \end{DoxyCompactList}\item 
\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{k__pennos_8h_acfbc9aa60b934835ea7ec36a8c26ebfc}{get\+\_\+pcb\+\_\+from\+\_\+pid}} (pid\+\_\+t pid)
\begin{DoxyCompactList}\small\item\em A helper function to get the PCB value from a pid value. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a4ac99db0d0b5c9cc428cbaf795ed9952}{k\+\_\+logout}} ()
\begin{DoxyCompactList}\small\item\em Logs the user out. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a965f4aa4d0a460d39ed6cd543c6feb88}{k\+\_\+perror}} (char \texorpdfstring{$\ast$}{*}message, \mbox{\hyperlink{errors_8h_ab5c6249e0c8c0c9222b6c8e8237604e1}{pennos\+\_\+error}} err)
\begin{DoxyCompactList}\small\item\em Prints an error message along with the provided error code. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_aba7a1167c79ddb6758d96389de345616}{k\+\_\+print}} ()
\begin{DoxyCompactList}\small\item\em Display process ID (pid), parent process ID (ppid), and priority. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a4112160f6c297a87ef77d4f31a2233d0}{k\+\_\+jobs}} (void)
\begin{DoxyCompactList}\small\item\em Prints all current jobs running on Penn\+OS. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_aed73875b6019beb45ccd61ef1714b197}{k\+\_\+man}} (const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}func\+\_\+names)
\begin{DoxyCompactList}\small\item\em Prints all Penn\+OS functions and their descriptions. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a836bb823ffb1f77f40e52ea6c0abefbf}{k\+\_\+background\+\_\+wait}} (int case\+\_\+value, int background\+\_\+id, char \texorpdfstring{$\ast$}{*}waited\+\_\+pid\+\_\+name)
\begin{DoxyCompactList}\small\item\em Waits for a background process to complete. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{k__pennos_8h_a51aef3899e0f03610d468aebc895c415}{k\+\_\+background\+\_\+status}} (int current\+\_\+background\+\_\+id, int pid)
\begin{DoxyCompactList}\small\item\em Prints the status of a background process. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Header file defining the kernel-\/level functions of Penn\+OS. 



\doxysubsection{Function Documentation}
\Hypertarget{k__pennos_8h_acfbc9aa60b934835ea7ec36a8c26ebfc}\label{k__pennos_8h_acfbc9aa60b934835ea7ec36a8c26ebfc} 
\index{k\_pennos.h@{k\_pennos.h}!get\_pcb\_from\_pid@{get\_pcb\_from\_pid}}
\index{get\_pcb\_from\_pid@{get\_pcb\_from\_pid}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{get\_pcb\_from\_pid()}{get\_pcb\_from\_pid()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*} get\+\_\+pcb\+\_\+from\+\_\+pid (\begin{DoxyParamCaption}\item[{pid\+\_\+t}]{pid }\end{DoxyParamCaption})}



A helper function to get the PCB value from a pid value. 


\begin{DoxyParams}{Parameters}
{\em pid} & The pid of the process. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to the PCB of the process. 
\end{DoxyReturn}
\Hypertarget{k__pennos_8h_a51aef3899e0f03610d468aebc895c415}\label{k__pennos_8h_a51aef3899e0f03610d468aebc895c415} 
\index{k\_pennos.h@{k\_pennos.h}!k\_background\_status@{k\_background\_status}}
\index{k\_background\_status@{k\_background\_status}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_background\_status()}{k\_background\_status()}}
{\footnotesize\ttfamily void k\+\_\+background\+\_\+status (\begin{DoxyParamCaption}\item[{int}]{current\+\_\+background\+\_\+id,  }\item[{int}]{pid }\end{DoxyParamCaption})}



Prints the status of a background process. 

This function retrieves the status of a background process based on its background ID and waited PID.


\begin{DoxyParams}{Parameters}
{\em current\+\_\+background\+\_\+id} & The ID of the current background process. \\
\hline
{\em pid} & The PID of the process being waited for. \\
\hline
\end{DoxyParams}
\Hypertarget{k__pennos_8h_a836bb823ffb1f77f40e52ea6c0abefbf}\label{k__pennos_8h_a836bb823ffb1f77f40e52ea6c0abefbf} 
\index{k\_pennos.h@{k\_pennos.h}!k\_background\_wait@{k\_background\_wait}}
\index{k\_background\_wait@{k\_background\_wait}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_background\_wait()}{k\_background\_wait()}}
{\footnotesize\ttfamily void k\+\_\+background\+\_\+wait (\begin{DoxyParamCaption}\item[{int}]{case\+\_\+value,  }\item[{int}]{background\+\_\+id,  }\item[{char \texorpdfstring{$\ast$}{*}}]{waited\+\_\+pid\+\_\+name }\end{DoxyParamCaption})}



Waits for a background process to complete. 

This function waits for the completion of a background process identified by its background ID.


\begin{DoxyParams}{Parameters}
{\em case\+\_\+value} & An integer specifying the case for waiting. \\
\hline
{\em background\+\_\+id} & The ID of the background process to wait for. \\
\hline
{\em waited\+\_\+pid\+\_\+name} & A pointer to a character array to store the name of the waited PID. \\
\hline
\end{DoxyParams}
\Hypertarget{k__pennos_8h_a4112160f6c297a87ef77d4f31a2233d0}\label{k__pennos_8h_a4112160f6c297a87ef77d4f31a2233d0} 
\index{k\_pennos.h@{k\_pennos.h}!k\_jobs@{k\_jobs}}
\index{k\_jobs@{k\_jobs}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_jobs()}{k\_jobs()}}
{\footnotesize\ttfamily void k\+\_\+jobs (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Prints all current jobs running on Penn\+OS. 

This function iterates through all the jobs on Penn\+OS and prints information about each job.

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\Hypertarget{k__pennos_8h_a4ac99db0d0b5c9cc428cbaf795ed9952}\label{k__pennos_8h_a4ac99db0d0b5c9cc428cbaf795ed9952} 
\index{k\_pennos.h@{k\_pennos.h}!k\_logout@{k\_logout}}
\index{k\_logout@{k\_logout}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_logout()}{k\_logout()}}
{\footnotesize\ttfamily void k\+\_\+logout (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Logs the user out. 

The user gets logged out of the current running process. \Hypertarget{k__pennos_8h_aed73875b6019beb45ccd61ef1714b197}\label{k__pennos_8h_aed73875b6019beb45ccd61ef1714b197} 
\index{k\_pennos.h@{k\_pennos.h}!k\_man@{k\_man}}
\index{k\_man@{k\_man}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_man()}{k\_man()}}
{\footnotesize\ttfamily void k\+\_\+man (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{func\+\_\+names }\end{DoxyParamCaption})}



Prints all Penn\+OS functions and their descriptions. 

This function is responsible for printing all Penn\+OS functions and their corresponding descriptions.


\begin{DoxyParams}{Parameters}
{\em func\+\_\+names} & A string array containing the names/descriptions of functions to be printed. \\
\hline
\end{DoxyParams}
\Hypertarget{k__pennos_8h_a965f4aa4d0a460d39ed6cd543c6feb88}\label{k__pennos_8h_a965f4aa4d0a460d39ed6cd543c6feb88} 
\index{k\_pennos.h@{k\_pennos.h}!k\_perror@{k\_perror}}
\index{k\_perror@{k\_perror}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_perror()}{k\_perror()}}
{\footnotesize\ttfamily void k\+\_\+perror (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message,  }\item[{\mbox{\hyperlink{errors_8h_ab5c6249e0c8c0c9222b6c8e8237604e1}{pennos\+\_\+error}}}]{err }\end{DoxyParamCaption})}



Prints an error message along with the provided error code. 

This function prints the user-\/supplied message followed by the error description corresponding to the given error code.


\begin{DoxyParams}{Parameters}
{\em message} & The user-\/supplied message. \\
\hline
{\em err} & The error code. \\
\hline
\end{DoxyParams}
\Hypertarget{k__pennos_8h_aba7a1167c79ddb6758d96389de345616}\label{k__pennos_8h_aba7a1167c79ddb6758d96389de345616} 
\index{k\_pennos.h@{k\_pennos.h}!k\_print@{k\_print}}
\index{k\_print@{k\_print}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_print()}{k\_print()}}
{\footnotesize\ttfamily void k\+\_\+print (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Display process ID (pid), parent process ID (ppid), and priority. 

This function prints the process ID (pid), parent process ID (ppid), and priority of the current process. \Hypertarget{k__pennos_8h_a078e3681581c83f75664cbdc29af2c26}\label{k__pennos_8h_a078e3681581c83f75664cbdc29af2c26} 
\index{k\_pennos.h@{k\_pennos.h}!k\_process\_cleanup@{k\_process\_cleanup}}
\index{k\_process\_cleanup@{k\_process\_cleanup}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_process\_cleanup()}{k\_process\_cleanup()}}
{\footnotesize\ttfamily void k\+\_\+process\+\_\+cleanup (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*}}]{process }\end{DoxyParamCaption})}



Cleans up the PCB when a process is terminated. This function sets the status of the input process to terminated, frees any associated memory with the process, handles the orphanized children of the terminated process, and updates the parent\textquotesingle{}s information about its children. 


\begin{DoxyParams}{Parameters}
{\em process} & The PCB of the process to be cleaned-\/up. \\
\hline
\end{DoxyParams}
\Hypertarget{k__pennos_8h_ae5a34add8eec03735fc9b5dfc4c5cfb6}\label{k__pennos_8h_ae5a34add8eec03735fc9b5dfc4c5cfb6} 
\index{k\_pennos.h@{k\_pennos.h}!k\_process\_create@{k\_process\_create}}
\index{k\_process\_create@{k\_process\_create}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_process\_create()}{k\_process\_create()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*} k\+\_\+process\+\_\+create (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*}}]{parent,  }\item[{char \texorpdfstring{$\ast$}{*}}]{name }\end{DoxyParamCaption})}



Creates a process. This function creates a PCB for the new process, updates the parent that spawned this process, and adds the process to the global\+\_\+pcb deque. 


\begin{DoxyParams}{Parameters}
{\em parent} & The PCB of the parent spawning the new process. \\
\hline
{\em name} & The name of the process being created. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a pointer to the PCB of the newly created process. 
\end{DoxyReturn}
\Hypertarget{k__pennos_8h_a980ec49f158aad89f56ef1658e80282c}\label{k__pennos_8h_a980ec49f158aad89f56ef1658e80282c} 
\index{k\_pennos.h@{k\_pennos.h}!k\_process\_kill@{k\_process\_kill}}
\index{k\_process\_kill@{k\_process\_kill}!k\_pennos.h@{k\_pennos.h}}
\doxysubsubsection{\texorpdfstring{k\_process\_kill()}{k\_process\_kill()}}
{\footnotesize\ttfamily void k\+\_\+process\+\_\+kill (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structpcb__struct}{PCB}} \texorpdfstring{$\ast$}{*}}]{process,  }\item[{\mbox{\hyperlink{signals_8h_a1a4e0dd5d9b66b722ab954f8fb31bb7b}{pennos\+\_\+signal}}}]{signal }\end{DoxyParamCaption})}



Sends a signal to the specified process This function sets the status of the targeted process to the appropriate status based on the signal being sent and checks for any processes waiting on the targeted process. 


\begin{DoxyParams}{Parameters}
{\em process} & The PCB of the process that the signal will be sent to. \\
\hline
{\em signal} & The signal to send. \\
\hline
\end{DoxyParams}
